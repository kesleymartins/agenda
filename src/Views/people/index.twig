{% extends 'layout.twig' %}

{% block body %}
  <div class="is-flex is-justify-content-flex-end mb-4">
    <a href="/people/new" class="button is-primary">
      Nova Pessoa
    </a>
  </div>

  <table class="table is-bordered is-hoverable is-fullwidth">
    <thead>
      <th>Nome</th>
      <th>CPF</th>
      <th></th>
    </thead>
    <tbody>
      {% for person in people %}
        <tr>
          <td>{{ person.name }}</td>
          <td>{{ person.cpf }}</td>
          <td class="is-flex is-justify-content-flex-end">
            <div class="dropdown is-hoverable">
              <div class="dropdown-trigger">
                <button class="button" aria-haspopup="true" aria-controls="dropdown-menu">
                  <span>Ações</span>
                </button>
              </div>
              <div class="dropdown-menu" id="dropdown-menu" role="menu">
                <div class="dropdown-content">
                  <a href="/people/{{ person.id }}/edit" class="dropdown-item">Editar</a>

                  <form action="/people/{{ person.id }}" method="POST">
                    <input type="hidden" name="_method" value="DELETE">

                    <button class="dropdown-item" type="submit"> Remover</button>
                  </form>

                  <a href="#" class="dropdown-item">Contatos</a>
                </div>
              </div>
            </div>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
